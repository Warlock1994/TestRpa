export const variablesGuideContent = `# 📦 变量系统详解

本章深入讲解 Web RPA 的变量系统，包括变量类型、作用域、引用方式等。

---

## 🎯 什么是变量？

变量是存储数据的容器，可以在工作流的不同模块之间传递数据。

### 变量的作用

- 存储采集的数据
- 在模块之间传递信息
- 控制流程逻辑
- 动态生成内容

---

## 📝 变量类型

Web RPA 支持 5 种变量类型：

### 1. 字符串（String）

文本类型，用引号包裹。

\`\`\`
示例：
"Hello World"
"用户名"
"https://example.com"
\`\`\`

### 2. 数字（Number）

整数或小数。

\`\`\`
示例：
42
3.14
-100
0
\`\`\`

### 3. 布尔（Boolean）

真或假，用于条件判断。

\`\`\`
示例：
true
false
\`\`\`

### 4. 列表（List/Array）

有序的数据集合。

\`\`\`json
示例：
["苹果", "香蕉", "橙子"]
[1, 2, 3, 4, 5]
[{"name": "张三"}, {"name": "李四"}]
\`\`\`

### 5. 字典（Dictionary/Object）

键值对集合。

\`\`\`json
示例：
{
  "name": "张三",
  "age": 25,
  "city": "北京"
}
\`\`\`

---

## 🔤 变量引用语法

### 基本引用

使用花括号引用变量：
\`\`\`
{变量名}
\`\`\`

### 示例

| 变量值 | 引用方式 | 结果 |
|--------|----------|------|
| name = "张三" | \`{name}\` | 张三 |
| count = 10 | \`数量：{count}\` | 数量：10 |
| url = "example.com" | \`https://{url}\` | https://example.com |

### 嵌套引用

访问列表元素：
\`\`\`
{列表[0]}      → 第一个元素
{列表[1]}      → 第二个元素
{列表[-1]}     → 最后一个元素
\`\`\`

访问字典属性：
\`\`\`
{用户[name]}   → 用户的name属性
{用户[age]}    → 用户的age属性
\`\`\`

多层嵌套：
\`\`\`
{数据[0][name]}        → 第一条数据的name
{响应[data][items][0]} → 响应中data.items的第一个元素
\`\`\`

---

## ➕ 创建变量

### 方式一：设置变量模块

最直接的方式，手动创建变量。

**配置**：
| 参数 | 说明 |
|------|------|
| 变量名 | 变量的名称 |
| 变量值 | 要设置的值 |
| 变量类型 | 选择数据类型 |

### 方式二：模块输出

很多模块可以将结果保存到变量：

| 模块 | 输出变量 |
|------|----------|
| 获取元素信息 | 提取的文本/属性 |
| API请求 | 响应数据 |
| AI对话 | AI回复内容 |
| 随机数 | 生成的随机数 |
| 读取Excel | Excel数据列表 |

### 方式三：循环自动创建

循环模块会自动创建索引变量：

| 循环类型 | 自动变量 |
|----------|----------|
| 计数循环 | loop_index（可自定义） |
| 遍历列表 | item, index（可自定义） |

---

## 👁️ 查看变量

### 变量面板

点击底部日志面板的 **📦 变量** 标签页，可以：
- 查看所有变量及其值
- 实时监控变量变化
- 手动添加/修改变量

### 调试输出

使用"打印日志"模块输出变量值：
\`\`\`
打印日志：当前用户={用户名}，余额={余额}
\`\`\`

---

## 📋 列表操作

### 列表操作模块

| 操作 | 说明 | 示例 |
|------|------|------|
| 追加元素 | 在末尾添加 | [1,2] → [1,2,3] |
| 插入元素 | 在指定位置插入 | [1,3] → [1,2,3] |
| 删除元素 | 按值删除 | [1,2,3] → [1,3] |
| 弹出元素 | 按索引删除并返回 | [1,2,3] → [1,2], 返回3 |
| 清空列表 | 删除所有元素 | [1,2,3] → [] |

### 获取列表信息

| 模块 | 功能 |
|------|------|
| 列表取值 | 获取指定索引的元素 |
| 列表长度 | 获取列表元素数量 |

### 索引说明

\`\`\`
列表：["a", "b", "c", "d"]
索引：  0     1     2     3
负索引：-4   -3    -2    -1

{列表[0]}  → "a"（第一个）
{列表[-1]} → "d"（最后一个）
{列表[1]}  → "b"（第二个）
\`\`\`

---

## 📖 字典操作

### 字典操作模块

| 操作 | 说明 |
|------|------|
| 设置键值 | 添加或修改键值对 |
| 删除键 | 删除指定的键 |

### 获取字典信息

| 模块 | 功能 |
|------|------|
| 字典取值 | 根据键名获取值 |
| 获取所有键 | 获取键名列表 |

### 示例

\`\`\`
字典：{"name": "张三", "age": 25}

{字典[name]}  → "张三"
{字典[age]}   → 25

获取所有键 → ["name", "age"]
\`\`\`

---

## 🔧 变量处理模块

### JSON解析

从JSON字符串中提取数据。

**JSONPath语法**：
| 表达式 | 说明 |
|--------|------|
| $.key | 获取根对象的key属性 |
| $.data.name | 获取嵌套属性 |
| $.items[0] | 获取数组第一个元素 |
| $.items[*].name | 获取所有items的name |

**示例**：
\`\`\`json
数据：{"code": 200, "data": {"user": "张三", "items": [1,2,3]}}

$.code           → 200
$.data.user      → "张三"
$.data.items[0]  → 1
\`\`\`

### Base64编解码

| 操作 | 说明 |
|------|------|
| 编码 | 文本/文件 → Base64字符串 |
| 解码 | Base64字符串 → 原始数据 |

**使用场景**：
- 图片转Base64用于AI识别
- 文件内容编码传输
- 处理二进制数据

### 随机数生成

生成指定范围内的随机整数。

**配置**：
| 参数 | 说明 |
|------|------|
| 最小值 | 随机数下限 |
| 最大值 | 随机数上限 |
| 保存到变量 | 存储结果 |

**应用**：
- 随机延迟时间
- 随机选择元素
- 生成验证数据

### 获取时间

获取当前日期时间。

**格式化符号**：
| 符号 | 说明 | 示例 |
|------|------|------|
| YYYY | 四位年份 | 2024 |
| MM | 两位月份 | 01-12 |
| DD | 两位日期 | 01-31 |
| HH | 24小时制 | 00-23 |
| mm | 分钟 | 00-59 |
| ss | 秒 | 00-59 |

**常用格式**：
\`\`\`
YYYY-MM-DD           → 2024-01-15
YYYY-MM-DD HH:mm:ss  → 2024-01-15 14:30:00
YYYYMMDD             → 20240115
HH:mm                → 14:30
\`\`\`

---

## 🔄 变量作用域

### 全局变量

在整个工作流中都可以访问的变量。

- 通过"设置变量"模块创建
- 通过模块输出创建
- 在变量面板手动添加

### 循环变量

仅在循环内部有效的变量。

\`\`\`
遍历列表：数据列表
  ├─ {item} 和 {index} 在这里有效
  └─ 可以在循环内使用

循环外部：{item} 和 {index} 不可用
\`\`\`

---

## 💡 最佳实践

### 命名规范

\`\`\`
✅ 推荐：
商品名称、用户列表、当前索引、API响应

❌ 避免：
a、temp、x、data1
\`\`\`

### 类型一致性

\`\`\`
✅ 正确：
数字比较：{count} > 10
字符串比较：{status} == "成功"

❌ 错误：
{count} > "10"  （数字与字符串比较）
\`\`\`

### 默认值处理

\`\`\`
条件判断：{变量} != ""
  ├─ 真 → 使用变量值
  └─ 假 → 使用默认值
\`\`\`

### 调试技巧

\`\`\`
1. 关键位置添加打印日志
2. 在变量面板实时监控
3. 使用条件判断验证数据
\`\`\`

---

## 🐛 常见问题

### 变量未定义

**原因**：引用了不存在的变量
**解决**：检查变量名拼写，确保变量已创建

### 类型错误

**原因**：变量类型与操作不匹配
**解决**：使用正确的类型，必要时进行转换

### 嵌套访问失败

**原因**：路径不正确或数据结构不匹配
**解决**：打印变量查看实际结构，修正访问路径

### 循环变量访问

**原因**：在循环外部访问循环变量
**解决**：在循环内部使用，或将值保存到全局变量`
